vi index.html
this is first line

git add index.html
git commit - m "1st commit" index.html

do this like 5 times and commit it



=========================
Git Amend - Change the commit history
=========================
if you want to change the last commit history

git commit --amend -m "an updated commit message"   --> this is replace latest commit message

==================
git rebase - If you want to change multiple commit histories
==================
Note: if you want to use this command, you need to have minimum 3 commits in your repo

git rebase -i HEAD~3

The option -i means interactive. HEAD~3 is a relative commit reference, which means the last 3 commits from the current branch HEAD.

The git rebase command above will open your default text editor (Vim for example) in an interactive mode showing the last 3 commits

Now replace pick with reword and keep changing the commit messages for 3 times and wq!

git log --oneline -2   [All commit messages has been changed]


Squashing in Git is the process of combining multiple commits into a single, consolidated commit. This is typically done to clean up the commit history before merging a feature branch into the main branch.

Create 4 commits
----------------
git log --oneline

abc123 Fourth commit
def456 Third commit
ghi789 Second commit
jkl012 First commit

if you want to combine second, third and fourth commits , put squash to third and fourth and have one commit which is second left

git rebase -i HEAD~3

output
----
pick abc123 Fourth commit
pick def456 Third commit
pick ghi789 Second commit

change
----
squash abc123 Fourth commit
squash def456 Third commit
pick  ghi789 Second commit

change: Combine or modify the commit message as needed.
-----
Combined commit: Second, Third, and Fourth changes

git rebase --continue

git log --oneline




 ======================================================

GIT Checkout : To restore previous version files in git

======================================================

clean up
--------
rm -rf *
git status
git add .  
git commit -m "clean" .



vi index.html
This is version 1

git add .
git commit -m "version 1 commit" index.html

vi index.html
This is version 1
This is version 2

git add .
git commit -m "version 2 commit" index.html

vi index.html
This is version 1
This is version 2
This is version 3

git add .
git commit -m "version 3 commit" index.html

git log
or
git log --oneline -2

git show f86060a685535d6d68ecaa84f3d36e9f5d04814d:index.html

This will show first version file

If you want to restore previous version files

git checkout f86060a685535d6d68ecaa84f3d36e9f5d04814d -- *  [* will restore all files in that commit]

git checkout f86060a685535d6d68ecaa84f3d36e9f5d04814d -- index.html [It will restore only index.html]

cat index.html

Again if you want latest

git checkout master -- index.html [it will restore to v3 ]

git checkout master -- *  [coming back to latest file]



cat index.html

Another scenario of checkout
---------------------------
use git rm to remove the file and restore using checkout HEAD

vi test.html
this is test

git add test
git commit -m "test" test.html

git rm test.html                       --> this will remove the file

git checkout HEAD -- test.html         ---> this will restore the file

======================================================
GIT RESTORE :
git checkout and git restore does the same work: reverting to previous state

Scenario 1: if you want to undo change after saving and before commit
----------

How to undo changes after save. If you are working on latest file, you do changes and saved. If you want previous one
use git restore index.html

vi test.html
This is demo

git add .
git commit -m "test" test.html

vi test.html
This is demo
ajffjkdhgdkjghdf
save it

cat test.html

if you want now to restore

git restore test.html

cat test.html

=================================
 Scenario 2 = To restore files from stagged to unstage

Accidently you have added to stage using "git add" command and if you want to unstage or untrack
=======================================================

How to untrack files

vi test.html
This is devops demo

git add test.html
git status --> now accidently i have stagged or tracked test.html , but I want to untrack/unstage

git restore --staged test.html
(or)
git restore --staged . -->  [. all]
(or)
git rm --cached test.html --> same like restore command above but another command to untrack/unstage

git status --> you can see now untracked

git add test.html  --> Add it to the stage again

git commit -m "test" test.html

Scenario - 3 : If you accidently delete the file from your directory and want to get back
--------------

touch newfile
git add newfile
git status ---> it shows green color, it is stagged

git add newfile  ----> now stage it

rm -rf newfile  -----> delete the file locally

ls  ---> no local file

git restore newfile   --> this will help to get the deleted file back from stage to local machine

git status

git commit -m "newfile" newfile


=================
GIT RESET --- Uncommit last commit [if you committed accidentally and want to uncommit or come the file back to local repo to staging]
or
Unstage files that were mistakenly added to the staging area.

vi Reyaz.html
Welcome to DevOps Classes
git add Reyaz.html
git commit -m "reyaz" Reyaz.html


vi Reyaz.html
Welcome to DevOps Classes
ijkdfhgdkfghdkjfhgjdfhg

git add Reyaz.html
git commit -m "reyaz" Reyaz.html

oh shit, i commit wrong code

Accidentally you commited now, but you want to get it back from local repo to staging

git status -->  all clean, nothing to commit

git reset --soft HEAD^   [uncommit and keep the changes / bring back from local repo to stage]

git status -- we see Reyaz.html now in stage

again git add Reyaz.html
git commit -m "reyaz" Reyaz.html
now try  below

git reset --hard HEAD^   [uncommit and discard the changes]
cat Reyaz.html


Feature                    git restore                            git reset
-------------------------------------------------------------------------------------------
Scope          Working directory or staging area           Commit history, staging area, working directory
*****
Affects Commit History                   No                                    Yes (can modify HEAD)
*********************
Primary Use Case    Undo changes or unstage files    Move HEAD or reset state to a previous commit
*************
Safety                        Less destructive               Can be destructive, especially with --hard
******
--------------------------------------------------------------------------------------------------------

HEAD is a pointer to the current branch or commit you are working on
In Git, HEAD is a source to the current branch or commit you are working on. HEAD normally shows the recent commit of the current branch and moves when you switch branches or check out exact commits.

git Restore: Does not modify commit history or the repository's HEAD pointer. It only reverts changes in the working directory or staging area.

git reset:  Can modify commit history by moving the HEAD pointer and potentially discarding changes.

==========
help
===========

git help


=================
GIT STASH -- If you want to hide/park all the changes you did on the repo locally to a tmp place and proceed with another story changes then stash the old story, explain in diagram

The git stash command is a useful feature in Git that allows you to temporarily save changes in your working directory without committing them

===============
rm -rf *
git add .
git commit -m "clean" .

Now create a story1 file
------------------------
vi story1
 i am working on story 1
 very difficult task
 it task 2 hours time

--> Now suddenly manager called and asked to work on story2

git status
git add story1

git stash --> story1 will be removed from the working dir, do ls, it will be placed in tmp location

ls -- story1 file is not there

git status --> working tree clean

using stash we kept story 1 aside

Now create story2 file
---------------------
vi story2
i need to complete this story2 first

git status
git add story2
git commit -m "story2" story2

git status

Now lets work back on story1
----------------------------

git stash apply --> now restore do ls
ls
git status -> you can see the file again

git stash list -- it will list the stashes
git stash clear -- it will clear the stash


if you want to stash multiple files

git stash push -m "commit message" -- story1 story2
git status


=========================================================

rm -rf *


==========================================
Now time to commit to Remote Repo to GitHub
--------------------------------------------

Sign up to GitHub and create a sample test public repository

touch python{1..10}
touch hello.txt
git add .
git commit -m "python files" .

git remote add origin https://github.com/ReyazShaik/testrepo.git  ---> copy this command from GitHub --> this will be done only first time

once above command executed , in .git folder, cat config file, remote origin got added --> show this file

git push -u origin master --> this will be used to commit the changes from local to central repo  

git username:
git password or personal token [generate the token from github]

git config --global credentials.helper cache        ---> not to ask for the password every time

git credential-cache exit    --> TO remove credentials

git remote -v

Example
--------

Now refresh the GitHub page and you can see the files

--> In Local, open hello.txt and add some content here  
--> git status --> now you can see the file in red color which is modified, now you need to stage this file
--> git add hello.txt --> now you have stagged this file, if you want all the files to stage use
git add --a
--> git status --> now this is green color, ready to commit



--> git commit -m 'modified hello.txt' --> this is now committed to local repo, you need to push to central pro GitHub
--> git push --> no need to add origin, that is only for first time and also no need to add remote origin that is also for first time

Lets try again

--> modify another file test.txt
--> git status
--> git add test.txt

If you want to un-stage existing file use RESET command .
if you want already added file to un-stage use reset command , for brand new file use rm command (difference rm - brand new file to un-stage , reset - existing file to un-stage)

git reset HEAD <filename>

git add .

-Now, redo what ever you have modified in the file

--> git commit -m 'modified test'
--> git push


>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
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               Token
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>